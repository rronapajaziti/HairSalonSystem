{"version":3,"file":"static/js/936.b079264e.chunk.js","mappings":"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","sources":["pages/DailyExpensess.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { FaEdit } from 'react-icons/fa';\r\nimport { MdOutlineDelete } from 'react-icons/md';\r\n\r\nconst DailyExpenses = ({ searchQuery }: { searchQuery: string }) => {\r\n  const [expenses, setExpenses] = useState<any[]>([]);\r\n  const [selectedDate, setSelectedDate] = useState<string>(\r\n    new Date().toISOString().split('T')[0],\r\n  );\r\n  const [totalCost, setTotalCost] = useState<number>(0);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingExpenseId, setEditingExpenseId] = useState<number | null>(null);\r\n\r\n  const [newExpense, setNewExpense] = useState({ name: '', amount: '' });\r\n  const [editFormData, setEditFormData] = useState({\r\n    id: null,\r\n    name: '',\r\n    amount: '',\r\n    date: selectedDate,\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchExpenses();\r\n  }, [selectedDate]);\r\n\r\n  const fetchExpenses = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        'https://api.studio-linda.com/api/dailyexpenses',\r\n        {\r\n          params: { date: selectedDate },\r\n        },\r\n      );\r\n      setExpenses(response.data.expenses || []);\r\n      setTotalCost(response.data.totalCost || 0);\r\n    } catch (error) {\r\n      console.error('Error fetching expenses:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddExpense = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const payload = {\r\n        name: newExpense.name,\r\n        amount: parseFloat(newExpense.amount),\r\n        date: new Date().toISOString().split('T')[0],\r\n      };\r\n\r\n      const response = await axios.post(\r\n        'https://api.studio-linda.com/api/dailyexpenses',\r\n        payload,\r\n      );\r\n      setExpenses([...expenses, response.data]);\r\n      setNewExpense({ name: '', amount: '' });\r\n      setShowForm(false);\r\n      fetchExpenses();\r\n    } catch (error) {\r\n      console.error('Error adding expense:', error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (expense: any) => {\r\n    if (editingExpenseId === expense.id) {\r\n      setEditingExpenseId(null);\r\n    } else {\r\n      setEditingExpenseId(expense.id);\r\n      setEditFormData({\r\n        id: expense.id,\r\n        name: expense.name,\r\n        amount: expense.amount,\r\n        date: expense.date,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleEditSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const payload = {\r\n        id: editFormData.id,\r\n        name: editFormData.name,\r\n        amount: parseFloat(editFormData.amount),\r\n        date: editFormData.date,\r\n      };\r\n\r\n      const response = await axios.put(\r\n        `https://api.studio-linda.com/api/dailyexpenses/${editFormData.id}`,\r\n        payload,\r\n      );\r\n      setExpenses((prev) =>\r\n        prev.map((expense) =>\r\n          expense.id === payload.id ? response.data : expense,\r\n        ),\r\n      );\r\n      setEditingExpenseId(null);\r\n      fetchExpenses();\r\n    } catch (error) {\r\n      console.error('Error editing expense:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    try {\r\n      await axios.delete(\r\n        `https://api.studio-linda.com/api/dailyexpenses/${id}`,\r\n      );\r\n      setExpenses((prev) => prev.filter((expense) => expense.id !== id));\r\n      fetchExpenses();\r\n    } catch (error) {\r\n      console.error('Error deleting expense:', error);\r\n    }\r\n  };\r\n\r\n  // Filter expenses based on search query\r\n  const filteredExpenses = expenses.filter((expense) =>\r\n    expense.name.toLowerCase().includes(searchQuery.toLowerCase()),\r\n  );\r\n\r\n  return (\r\n    <div className=\"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-xl font-semibold text-blue-900 dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n          Shpenzimet Ditore\r\n        </h1>\r\n        <div className=\"flex items-center\">\r\n          <input\r\n            type=\"date\"\r\n            value={selectedDate}\r\n            onChange={(e) => setSelectedDate(e.target.value)}\r\n            className=\"px-4 py-2 border rounded-md mr-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n          />\r\n          <button\r\n            onClick={() => setShowForm(!showForm)}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md\"\r\n          >\r\n            {showForm ? 'X' : 'Shto Shpenzimin'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <form\r\n          onSubmit={handleAddExpense}\r\n          className=\"mb-6 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n        >\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-medium\">Emri i Shpenzimit</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={newExpense.name}\r\n                onChange={(e) =>\r\n                  setNewExpense({ ...newExpense, name: e.target.value })\r\n                }\r\n                className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-medium\">Çmimi (€)</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"amount\"\r\n                value={newExpense.amount}\r\n                onChange={(e) =>\r\n                  setNewExpense({ ...newExpense, amount: e.target.value })\r\n                }\r\n                className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md\"\r\n          >\r\n            Shto\r\n          </button>\r\n        </form>\r\n      )}\r\n\r\n      <table className=\"w-full table-auto border-collapse\">\r\n        <thead>\r\n          <tr className=\"bg-gray-200\">\r\n            <th className=\"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n              Emri i Shpenzimit\r\n            </th>\r\n            <th className=\"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n              Çmimi (€)\r\n            </th>\r\n            <th className=\"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n              Data\r\n            </th>\r\n            <th className=\"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n              Veprimet\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredExpenses.map((expense) => (\r\n            <React.Fragment key={expense.id}>\r\n              <tr className=\"py-4 px-4 bg-gray-100 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                <td className=\"py-2 px-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                  {expense.name}\r\n                </td>\r\n                <td className=\"py-2 px-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                  {expense.amount.toFixed(2)}€\r\n                </td>\r\n                <td className=\"py-2 px-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                  {new Date(expense.date).toLocaleDateString()}\r\n                </td>\r\n                <td className=\"py-4 px-4\">\r\n                  <div className=\"flex space-x-2 sm:justify-center\">\r\n                    <button\r\n                      onClick={() => handleEdit(expense)}\r\n                      className=\"bg-blue-500 text-white rounded-md px-4 py-2 text-base sm:px-4 sm:py-2 sm:text-sm\"\r\n                    >\r\n                      <FaEdit />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDelete(expense.id)}\r\n                      className=\"bg-red-500 text-white rounded-md px-4 py-2 text-base sm:px-4 sm:py-2 sm:text-sm\"\r\n                    >\r\n                      <MdOutlineDelete />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              {editingExpenseId === expense.id && (\r\n                <tr className=\"text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                  <td colSpan={4}>\r\n                    <form\r\n                      onSubmit={handleEditSubmit}\r\n                      className=\"py-4 px-4 bg-gray-100 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                    >\r\n                      <div className=\"grid grid-cols-2 gap-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                        <div>\r\n                          <label className=\"block font-medium\">\r\n                            Emri i Shpenzimit\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            value={editFormData.name}\r\n                            onChange={(e) =>\r\n                              setEditFormData({\r\n                                ...editFormData,\r\n                                name: e.target.value,\r\n                              })\r\n                            }\r\n                            className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block font-medium text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                            Çmimi (€)\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            name=\"amount\"\r\n                            value={editFormData.amount}\r\n                            onChange={(e) =>\r\n                              setEditFormData({\r\n                                ...editFormData,\r\n                                amount: e.target.value,\r\n                              })\r\n                            }\r\n                            className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md\"\r\n                      >\r\n                        Ruaj\r\n                      </button>\r\n                    </form>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td className=\"py-4 px-6 font-bold text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n              Totali\r\n            </td>\r\n            <td className=\"py-2 px-4 font-bold text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n              {totalCost.toFixed(2)}€\r\n            </td>\r\n            <td\r\n              className=\"text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n              colSpan={2}\r\n            ></td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DailyExpenses;\r\n"],"names":["_ref","searchQuery","expenses","setExpenses","useState","selectedDate","setSelectedDate","Date","toISOString","split","totalCost","setTotalCost","showForm","setShowForm","editingExpenseId","setEditingExpenseId","newExpense","setNewExpense","name","amount","editFormData","setEditFormData","id","date","useEffect","fetchExpenses","async","response","axios","get","params","data","error","console","handleEditSubmit","e","preventDefault","payload","parseFloat","put","prev","map","expense","filteredExpenses","filter","toLowerCase","includes","_jsxs","className","children","_jsx","type","value","onChange","target","onClick","onSubmit","post","required","React","toFixed","toLocaleDateString","handleEdit","FaEdit","delete","handleDelete","MdOutlineDelete","colSpan"],"sourceRoot":""}