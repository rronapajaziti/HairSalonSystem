{"version":3,"file":"static/js/877.6547f9ab.chunk.js","mappings":"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","sources":["pages/Staff.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { FaEdit } from 'react-icons/fa';\r\nimport { MdOutlineDelete } from 'react-icons/md';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nconst Staff = ({ searchQuery }: { searchQuery: string }) => {\r\n  const [staffList, setStaffList] = useState<any[]>([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [newStaff, setNewStaff] = useState({\r\n    id: null,\r\n    firstName: '',\r\n    lastName: '',\r\n    phoneNumber: '',\r\n    email: '',\r\n    password: '',\r\n    roleID: 3,\r\n  });\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editingRowId, setEditingRowId] = useState<number | null>(null);\r\n  const [editFormData, setEditFormData] = useState({\r\n    id: null,\r\n    firstName: '',\r\n    lastName: '',\r\n    phoneNumber: '',\r\n    email: '',\r\n    password: '',\r\n    roleID: 3,\r\n  });\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [isAuthorized, setIsAuthorized] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    const adminToken = localStorage.getItem('adminToken');\r\n    console.log('Admin Token:', adminToken);\r\n\r\n    if (adminToken) {\r\n      try {\r\n        const decodedToken: any = jwtDecode(adminToken);\r\n        console.log('Decoded Token:', decodedToken);\r\n\r\n        const authorized =\r\n          decodedToken.RolesID === '1' || decodedToken.RolesID === '2';\r\n        setIsAuthorized(authorized);\r\n        console.log('Is Authorized:', authorized);\r\n      } catch (error) {\r\n        console.error('Error decoding token:', error);\r\n        setIsAuthorized(false);\r\n      }\r\n    } else {\r\n      setIsAuthorized(false);\r\n    }\r\n\r\n    axios\r\n      .get('https://api.studio-linda.com/api/User', {\r\n        headers: {\r\n          Authorization: `Bearer ${adminToken}`,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        const filteredStaff = response.data.map((staff: any) => ({\r\n          ...staff,\r\n          id: staff.userID,\r\n        }));\r\n        setStaffList(filteredStaff);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response?.status === 401) {\r\n          setErrorMessage(\r\n            'Ju nuk jeni të autorizuar për të kryer këtë veprim.',\r\n          );\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setNewStaff((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleEditInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setEditFormData((prev) => ({\r\n      ...prev,\r\n      [name]: name === 'roleID' ? parseInt(value, 10) : value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const adminToken = localStorage.getItem('adminToken');\r\n\r\n    const payload = {\r\n      userID: 0,\r\n      firstName: newStaff.firstName,\r\n      lastName: newStaff.lastName,\r\n      phoneNumber: newStaff.phoneNumber,\r\n      email: newStaff.email,\r\n      passwordHash: newStaff.password,\r\n      passwordSalt: 'defaultSalt',\r\n      roleID: newStaff.roleID,\r\n    };\r\n\r\n    axios\r\n      .post('https://api.studio-linda.com/api/User/register', payload, {\r\n        headers: {\r\n          Authorization: `Bearer ${adminToken}`,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setStaffList((prev) => [...prev, response.data]);\r\n        setShowForm(false);\r\n        setNewStaff({\r\n          id: null,\r\n          firstName: '',\r\n          lastName: '',\r\n          phoneNumber: '',\r\n          email: '',\r\n          password: '',\r\n          roleID: 3,\r\n        });\r\n      });\r\n  };\r\n\r\n  const handleEdit = (staff: any) => {\r\n    if (editingRowId === staff.id) {\r\n      setEditingRowId(null);\r\n    } else {\r\n      setEditingRowId(staff.id);\r\n      setIsEditing(true);\r\n      setEditFormData({\r\n        id: staff.id,\r\n        firstName: staff.firstName,\r\n        lastName: staff.lastName,\r\n        phoneNumber: staff.phoneNumber,\r\n        email: staff.email,\r\n        password: '',\r\n        roleID: staff.roleID,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleEditSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const adminToken = localStorage.getItem('adminToken');\r\n\r\n    const payload = {\r\n      userID: editFormData.id,\r\n      firstName: editFormData.firstName,\r\n      lastName: editFormData.lastName,\r\n      phoneNumber: editFormData.phoneNumber,\r\n      email: editFormData.email,\r\n      roleID: editFormData.roleID,\r\n      passwordHash: editFormData.password || 'defaultPasswordHash',\r\n      passwordSalt: editFormData.password || 'defaultPasswordSalt',\r\n    };\r\n\r\n    axios\r\n      .put(`https://api.studio-linda.com/api/User/${payload.userID}`, payload, {\r\n        headers: {\r\n          Authorization: `Bearer ${adminToken}`,\r\n        },\r\n      })\r\n      .then(() => {\r\n        setStaffList((prev) =>\r\n          prev.map((staff) =>\r\n            staff.id === payload.userID ? { ...staff, ...payload } : staff,\r\n          ),\r\n        );\r\n        setEditingRowId(null);\r\n        setIsEditing(false);\r\n      });\r\n  };\r\n\r\n  const handleDelete = (id: number) => {\r\n    const adminToken = localStorage.getItem('adminToken');\r\n\r\n    axios\r\n      .delete(`https://api.studio-linda.com/api/User/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${adminToken}`,\r\n        },\r\n      })\r\n      .then(() => {\r\n        setStaffList((prev) => prev.filter((staff) => staff.id !== id));\r\n      });\r\n  };\r\n\r\n  const filteredStaff = staffList.filter((staff) =>\r\n    `${staff.firstName} ${staff.lastName}`\r\n      .toLowerCase()\r\n      .includes(searchQuery.toLowerCase()),\r\n  );\r\n\r\n  return (\r\n    <div className=\"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-xl font-semibold dark:text-white text-blue-900\">\r\n          Staff\r\n        </h1>\r\n        <button\r\n          onClick={() => {\r\n            setShowForm(!showForm);\r\n            setIsEditing(false);\r\n            setNewStaff({\r\n              id: null,\r\n              firstName: '',\r\n              lastName: '',\r\n              phoneNumber: '',\r\n              email: '',\r\n              password: '',\r\n              roleID: 3,\r\n            });\r\n          }}\r\n          className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md\"\r\n        >\r\n          {showForm ? 'X' : 'Shto Stafin'}\r\n        </button>\r\n      </div>\r\n\r\n      {errorMessage && (\r\n        <div className=\"text-red-500 text-center\">{errorMessage}</div>\r\n      )}\r\n\r\n      {showForm && (\r\n        <form onSubmit={handleSubmit} className=\"mt-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-white\">\r\n                Emri\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                placeholder=\"First Name\"\r\n                value={newStaff.firstName}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"px-4 py-2 border text-black border-gray-300 dark:text-white rounded-md w-full dark:border-strokedark dark:bg-boxdark\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-white\">\r\n                Mbiemri\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                placeholder=\"Last Name\"\r\n                value={newStaff.lastName}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"px-4 py-2 border text-black border-gray-300 dark:text-white rounded-md w-full dark:border-strokedark dark:bg-boxdark\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-white\">\r\n                Numri i telefonit\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"phoneNumber\"\r\n                placeholder=\"Phone Number\"\r\n                value={newStaff.phoneNumber}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"px-4 py-2 border text-black border-gray-300 dark:text-white rounded-md w-full dark:border-strokedark dark:bg-boxdark\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-white\">\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Email\"\r\n                value={newStaff.email}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"px-4 py-2 border text-black border-gray-300 dark:text-white rounded-md w-full dark:border-strokedark dark:bg-boxdark\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-white\">\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                value={newStaff.password}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"px-4 py-2 border text-black border-gray-300 dark:text-white rounded-md w-full dark:border-strokedark dark:bg-boxdark\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-md mt-4\"\r\n            disabled={!isAuthorized}\r\n          >\r\n            {isEditing ? 'Update Staff' : 'Shto'}\r\n          </button>\r\n        </form>\r\n      )}\r\n\r\n      <div className=\"max-w-full overflow-x-auto mt-6\">\r\n        <table className=\"w-full table-auto dark:border-strokedark dark:bg-boxdark\">\r\n          <thead>\r\n            <tr className=\"bg-gray-200 text-left\">\r\n              <th className=\"py-4 px-4 text-blue-900 dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                Emri dhe Mbiemri\r\n              </th>\r\n              <th className=\"py-4 px-4 text-blue-900 dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                Numri i telefonit\r\n              </th>\r\n              <th className=\"py-4 px-4 text-blue-900 dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                Email\r\n              </th>\r\n              <th className=\"py-4 px-4 text-blue-900 dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                Veprimet\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredStaff\r\n              .filter((staff) => staff.roleID !== 1)\r\n              .map((staff) => (\r\n                <React.Fragment key={staff.id}>\r\n                  <tr>\r\n                    <td className=\"py-4 px-4 dark:text-white text-black\">\r\n                      {staff.firstName} {staff.lastName}\r\n                    </td>\r\n                    <td className=\"py-4 px-4 dark:text-white text-black\">\r\n                      {staff.phoneNumber}\r\n                    </td>\r\n                    <td className=\"py-4 px-4 dark:text-white text-black\">\r\n                      {staff.email}\r\n                    </td>\r\n                    <td className=\"py-4 px-4\">\r\n                      <div className=\"flex space-x-2 sm:justify-center\">\r\n                        <button\r\n                          onClick={() => handleEdit(staff)}\r\n                          className=\"bg-blue-500 text-white rounded-md px-4 py-2 text-base sm:px-4 sm:py-2 sm:text-sm\"\r\n                          disabled={!isAuthorized}\r\n                        >\r\n                          <FaEdit />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(staff.id)}\r\n                          className=\"bg-red-500 text-white rounded-md px-4 py-2 text-base sm:px-4 sm:py-2 sm:text-sm\"\r\n                          disabled={!isAuthorized}\r\n                        >\r\n                          <MdOutlineDelete />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                  {editingRowId === staff.id && (\r\n                    <tr>\r\n                      <td\r\n                        colSpan={4}\r\n                        className=\"py-4 px-4 bg-gray-100 text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                      >\r\n                        <form onSubmit={handleEditSubmit}>\r\n                          <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                              <label className=\"block text-sm font-medium text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                                Emri\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"firstName\"\r\n                                value={editFormData.firstName}\r\n                                onChange={handleEditInputChange}\r\n                                className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm font-medium text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                                Mbiemri\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"lastName\"\r\n                                value={editFormData.lastName}\r\n                                onChange={handleEditInputChange}\r\n                                className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm font-medium text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                                Numri i telefonit\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"phoneNumber\"\r\n                                value={editFormData.phoneNumber}\r\n                                onChange={handleEditInputChange}\r\n                                className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm font-medium text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                                Email\r\n                              </label>\r\n                              <input\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                value={editFormData.email}\r\n                                onChange={handleEditInputChange}\r\n                                className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm font-medium text-black dark:text-white dark:border-strokedark dark:bg-boxdark\">\r\n                                Password\r\n                              </label>\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                value={editFormData.password}\r\n                                onChange={handleEditInputChange}\r\n                                className=\"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark\"\r\n                                placeholder=\"Leave blank to keep unchanged\"\r\n                              />\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                              <label className=\"block text-sm font-medium text-gray-700 text-black dark:text-white\">\r\n                                Roli\r\n                              </label>\r\n                              <select\r\n                                name=\"roleID\"\r\n                                value={editFormData.roleID}\r\n                                onChange={(e) =>\r\n                                  setEditFormData({\r\n                                    ...editFormData,\r\n                                    roleID: parseInt(e.target.value, 10),\r\n                                  })\r\n                                }\r\n                                required\r\n                                className=\"px-4 py-2 border text-black border-gray-300 dark:text-white rounded-md w-full dark:border-strokedark dark:bg-boxdark\"\r\n                              >\r\n                                <option value={1}>Admin</option>\r\n                                <option value={2}>Owner</option>\r\n                                <option value={3}>Staff</option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                          <button\r\n                            type=\"submit\"\r\n                            className=\"mt-4 px-4 py-2 bg-blue-900 text-white rounded-md\"\r\n                            disabled={!isAuthorized}\r\n                          >\r\n                            Ruaj\r\n                          </button>\r\n                        </form>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Staff;\r\n"],"names":["_ref","searchQuery","staffList","setStaffList","useState","showForm","setShowForm","newStaff","setNewStaff","id","firstName","lastName","phoneNumber","email","password","roleID","isEditing","setIsEditing","editingRowId","setEditingRowId","editFormData","setEditFormData","errorMessage","setErrorMessage","isAuthorized","setIsAuthorized","useEffect","adminToken","localStorage","getItem","console","log","decodedToken","jwtDecode","authorized","RolesID","error","axios","get","headers","Authorization","then","response","filteredStaff","data","map","staff","userID","catch","_error$response","status","handleInputChange","e","name","value","target","prev","handleEditInputChange","parseInt","handleEditSubmit","preventDefault","payload","passwordHash","passwordSalt","put","filter","toLowerCase","includes","_jsxs","className","children","_jsx","onClick","onSubmit","post","type","placeholder","onChange","required","disabled","React","handleEdit","FaEdit","delete","handleDelete","MdOutlineDelete","colSpan"],"sourceRoot":""}