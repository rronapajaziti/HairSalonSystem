"use strict";(self.webpackChunktailadmin_react_free=self.webpackChunktailadmin_react_free||[]).push([[333],{333:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var a=r(43),s=r(213),l=r(579);const n=()=>{const[e,t]=(0,a.useState)((new Date).getMonth()+1),[r,n]=(0,a.useState)((new Date).getFullYear()),[d,o]=(0,a.useState)([]),[i,h]=(0,a.useState)({}),c=["bg-blue-500","bg-blue-600","bg-blue-400","bg-blue-700","bg-blue-800","bg-blue-900"];(0,a.useEffect)((()=>{x()}),[e,r]);const x=async()=>{try{const e=(await s.A.get("https://api.studio-linda.com/api/Appointment")).data,t={};let r=0;const a=e.map((e=>{const a=e.staffName||"No Staff";return t[a]||(t[a]=c[r%c.length],r++),{date:e.appointmentDate.split("T")[0],title:e.serviceName||"No Service",time:"All Day",color:t[a],staff:a}}));o(a),h(t)}catch(e){console.error("Error fetching appointments:",e)}},u=(()=>{const t=new Date(r,e-1).getDay(),a=((e,t)=>new Date(t,e,0).getDate())(e,r),s=[];for(let e=0;e<t;e++)s.push(null);for(let e=1;e<=a;e++)s.push(e);return s})(),w=t=>{const a=`${r}-${e<10?`0${e}`:e}-${t<10?`0${t}`:t}`;return d.filter((e=>e.date===a)).map(((e,t)=>(0,l.jsxs)("div",{className:`text-white p-2 mb-1 text-sm rounded w-full ${e.color} overflow-auto`,children:[e.title," (",e.staff,")"]},t)))};return(0,l.jsxs)("div",{className:"container mx-auto mt-10",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-left text-blue-900 mt-4 mb-6 dark:text-white",children:"Kalendari"}),(0,l.jsxs)("div",{className:"wrapper bg-white rounded shadow w-full dark:border-strokedark dark:bg-boxdark dark:text-white",children:[(0,l.jsxs)("div",{className:"header flex justify-between border-b p-2",children:[(0,l.jsxs)("span",{className:"text-lg font-bold text-blue-900 dark:text-white",children:[r," ",e<10?`0${e}`:e]}),(0,l.jsxs)("div",{className:"buttons flex gap-4",children:[(0,l.jsx)("button",{className:"p-1",onClick:()=>{1===e?(t(12),n(r-1)):t(e-1)},children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m15 19-7-7 7-7"})})}),(0,l.jsx)("button",{className:"p-1",onClick:()=>{12===e?(t(1),n(r+1)):t(e+1)},children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m9 5 7 7-7 7"})})})]})]}),(0,l.jsxs)("table",{className:"w-full dark:border-strokedark dark:bg-boxdark dark:text-white",children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:["E Diel","E H\xebn\xeb","E Mart\xeb","E M\xebrkur\xeb","E Enj\xebte","E Premte","E  Shtun\xeb"].map((e=>(0,l.jsx)("th",{className:"p-2 border-r h-10 text-blue-900 dark:text-white dark:border-strokedark dark:bg-boxdark",children:(0,l.jsx)("span",{children:e})},e)))})}),(0,l.jsx)("tbody",{children:Array.from({length:6},((e,t)=>(0,l.jsx)("tr",{className:"text-center h-20",children:Array.from({length:7},((e,r)=>{const a=u[7*t+r]||"";return(0,l.jsx)("td",{className:"border border-gray-300 p-1 h-40 w-40 overflow-hidden dark:text-white",children:(0,l.jsxs)("div",{className:"flex flex-col h-40 mx-auto overflow-hidden",children:[(0,l.jsx)("div",{className:"top h-5 w-full",children:(0,l.jsx)("span",{className:"text-gray-900 dark:text-white",children:a})}),(0,l.jsx)("div",{className:"bottom flex-grow h-30 py-1 w-full overflow-y-auto",children:a&&w(a)})]})},r)}))},t)))})]})]})]})}}}]);
//# sourceMappingURL=333.cd9e6cc6.chunk.js.map