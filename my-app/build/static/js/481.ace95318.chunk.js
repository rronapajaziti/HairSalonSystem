"use strict";(self.webpackChunktailadmin_react_free=self.webpackChunktailadmin_react_free||[]).push([[481],{481:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var r=a(43),s=a(579);const o=e=>{let{title:t,total:a,rate:r,levelUp:o,levelDown:l,children:n,className:i}=e;return(0,s.jsxs)("div",{className:`rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark ${i}`,children:[(0,s.jsx)("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:n}),(0,s.jsxs)("div",{className:"mt-4 flex items-end justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-title-md font-bold text-black dark:text-white",children:a}),(0,s.jsx)("span",{className:"text-sm font-medium",children:t})]}),(0,s.jsxs)("span",{className:`flex items-center gap-1 text-sm font-medium ${o&&"text-meta-3"} ${l&&"text-meta-5"}`,children:[r,o&&(0,s.jsx)("svg",{className:"fill-meta-3",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M4.35716 2.47737L0.908974 5.82987L5.0443e-07 4.94612L5 0.0848689L10 4.94612L9.09103 5.82987L5.64284 2.47737L5.64284 10.0849L4.35716 10.0849L4.35716 2.47737Z",fill:""})}),l&&(0,s.jsx)("svg",{className:"fill-meta-5",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M5.64284 7.69237L9.09102 4.33987L10 5.22362L5 10.0849L-8.98488e-07 5.22362L0.908973 4.33987L4.35716 7.69237L4.35716 0.0848701L5.64284 0.0848704L5.64284 7.69237Z",fill:""})})]})]})]})};var l=a(19),n=a(213);const i=()=>{const[e,t]=(0,r.useState)([{name:"Numri i Takimeve",data:[]}]),[a,o]=(0,r.useState)([]),[i,d]=(0,r.useState)(localStorage.getItem("colorMode")||"light");(0,r.useEffect)((()=>{const e=new MutationObserver((()=>{const e=document.body.classList.contains("dark");d(e?"dark":"light")}));return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()}),[]),(0,r.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=new Date((new Date).getFullYear(),(new Date).getMonth(),1),a=new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),r=(await n.A.get("https://api.studio-linda.com/api/Appointment/appointment-count-weekly",{params:{startDate:e.toISOString(),endDate:a.toISOString()}})).data,s=r.map((e=>`Java ${e.week}`)),l=r.map((e=>e.appointmentCount));o(s),t([{name:"Numri i Takimeve",data:l}])}catch(e){console.error("Error fetching weekly appointment data:",e)}},m={chart:{type:"area",height:350,toolbar:{show:!1},background:"transparent"},colors:["#3C50E0"],stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.3,stops:[0,90,100]}},grid:{borderColor:"dark"===i?"#374151":"#E5E7EB",xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},markers:{size:4,colors:["#FFF"],strokeColors:["#3056D3"],strokeWidth:2},xaxis:{type:"category",categories:a,labels:{style:{colors:"dark"===i?"#E5E7EB":"#374151",fontSize:"12px",fontWeight:"bold"}}},yaxis:{title:{text:""},labels:{style:{colors:"dark"===i?"#E5E7EB":"#374151",fontSize:"12px",fontWeight:"bold"}}},legend:{position:"top",horizontalAlign:"right",labels:{colors:"dark"===i?"#FFFFFF":"#374151"}},tooltip:{theme:i,style:{fontSize:"13px",fontFamily:"Arial, sans-serif"},marker:{show:!0},y:{formatter:e=>`${e} Takime`},custom:e=>{let{series:t,seriesIndex:a,dataPointIndex:r,w:s}=e;const o=t[a][r],l=s.globals.labels[r];return`\n        <div style="\n          background: ${"dark"===i?"#1F2937":"#FFFFFF"};\n          color: ${"dark"===i?"#E5E7EB":"#333333"};\n          border: 1px solid ${"dark"===i?"#374151":"#E5E7EB"};\n          padding: 10px;\n          border-radius: 8px;\n          box-shadow: ${"dark"===i?"0 2px 4px rgba(0, 0, 0, 0.5)":"0 2px 4px rgba(0, 0, 0, 0.1)"};\n        ">\n          <strong>${l}</strong>\n          <div>${o} Takime</div>\n        </div>`}}};return(0,s.jsxs)("div",{className:"p-6 rounded-lg max-w-lg mx-auto border shadow-md dark:border-gray-700",style:{backgroundColor:"dark"===i?"#1F2937":"#FFFFFF",maxWidth:"900px"},children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",style:{color:"dark"===i?"#E5E7EB":"#374151"},children:"Terminet Mujore"}),(0,s.jsx)(l.A,{options:m,series:e,type:"area",height:250})]})},d=()=>{const[e,t]=(0,r.useState)("monthly"),[a,o]=(0,r.useState)({labels:[],series:[]}),[i,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(localStorage.getItem("colorMode")||"light");(0,r.useEffect)((()=>{const e=new MutationObserver((()=>{const e=document.body.classList.contains("dark");p(e?"dark":"light")}));return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()}),[]);const x=async()=>{d(!0),m(null);const{startDate:t,endDate:a}=(()=>{const t=new Date;let a,r;return"daily"===e?(a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)):"monthly"===e?(a=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,1)):(a=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear()+1,0,1)),{startDate:a.toISOString(),endDate:r.toISOString()}})();try{const e=await n.A.get("https://api.studio-linda.com/api/Appointment/services-completed",{params:{startDate:t,endDate:a}});if(null!==e&&void 0!==e&&e.data&&Array.isArray(e.data)){const t=e.data.map((e=>e.serviceName)),a=e.data.map((e=>e.count));o({labels:t,series:a})}else m("Unexpected API response format.")}catch(s){var r;if(n.A.isAxiosError(s))m(`Failed to fetch data: ${(null===(r=s.response)||void 0===r?void 0:r.data)||s.message}`);else m("Failed to load data.")}finally{d(!1)}};(0,r.useEffect)((()=>{x()}),[e]);const g={chart:{type:"donut",background:"transparent"},colors:["#3C50E0","#6577F3","#8FD0EF","#0FADCF","#1A73E8","#5B73E8","#738AE0","#4A90E2","#002366","#6A5ACD"].slice(0,a.labels.length),labels:a.labels,legend:{position:"bottom",labels:{colors:"dark"===h?"#FFFFFF":"#374151"}},plotOptions:{pie:{donut:{size:"75%"}}},dataLabels:{enabled:!1}},u=Array.isArray(a.series)&&a.series.length>0&&Array.isArray(a.labels)&&a.labels.length>0;return(0,s.jsxs)("div",{className:"p-6 rounded-lg max-w-2xl mx-auto border border-gray-300 dark:border-gray-700",style:{backgroundColor:"dark"===h?"#1A202C":"#FFFFFF"},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h5",{className:"text-lg font-semibold",style:{color:"dark"===h?"#FFFFFF":"#374151"},children:"Sh\xebrbimet m\xeb t\xeb Shpesha"}),(0,s.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"px-3 py-1.5 border rounded-md text-sm",style:{backgroundColor:"dark"===h?"#2D3748":"#FFFFFF",color:"dark"===h?"#FFFFFF":"#374151",borderColor:"dark"===h?"#4A5568":"#D1D5DB"},children:[(0,s.jsx)("option",{value:"daily",children:"Ditore"}),(0,s.jsx)("option",{value:"monthly",children:"Mujore"}),(0,s.jsx)("option",{value:"yearly",children:"Vjetore"})]})]}),i&&(0,s.jsx)("p",{children:"Loading..."}),c&&(0,s.jsx)("p",{className:"text-red-500",children:c}),i||c||!u?(0,s.jsx)("p",{children:"No valid data available to display."}):(0,s.jsx)(l.A,{options:g,series:a.series,type:"donut",height:400})]})};var c=a(238),m=a(555),h=a(252);const p=()=>{const[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(localStorage.getItem("colorMode")||"light");(0,r.useEffect)((()=>{const e=new MutationObserver((()=>{const e=document.body.classList.contains("dark");o(e?"dark":"light")}));return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()}),[]);(0,r.useEffect)((()=>{(async()=>{try{const e=(0,c.A)(new Date,{weekStartsOn:1}),a=(0,m.A)(new Date,{weekStartsOn:1}),r=(0,h.A)(e,"yyyy-MM-dd"),s=(0,h.A)(a,"yyyy-MM-dd"),o=(await n.A.get("https://api.studio-linda.com/api/Appointment/appointments-completed-by-day",{params:{startDate:r,endDate:s}})).data.map((e=>e.completedAppointments));t(o)}catch(e){console.error("Error fetching weekly data:",e),t([0,0,0,0,0,0,0])}})()}),[]);const i={chart:{type:"bar",height:250,toolbar:{show:!1},background:"transparent"},xaxis:{categories:["E H\xebn\xeb","E Mart\xeb","E M\xebrkur\xeb","E Enjte","E Premte","E Shtun\xeb","E Diel"],labels:{style:{colors:"dark"===a?"#FFFFFF":"#374151"},offsetX:0}},plotOptions:{bar:{columnWidth:"70%",borderRadius:4}},grid:{padding:{left:0,right:0}},yaxis:{title:{text:"Terminet",style:{color:"dark"===a?"#FFFFFF":"#374151",fontSize:"12px",fontWeight:"bold"}},labels:{style:{colors:"dark"===a?"#FFFFFF":"#374151",fontSize:"12px",fontWeight:"bold"}}},dataLabels:{enabled:!1},colors:["#2563EB"],tooltip:{theme:a,style:{fontSize:"13px",fontFamily:"Arial, sans-serif"},marker:{show:!0},y:{formatter:e=>`${e} Terminet`},custom:e=>{let{series:t,seriesIndex:r,dataPointIndex:s,w:o}=e;const l=t[r][s],n=o.globals.labels[s];return`\n          <div style="\n            background: ${"dark"===a?"#1F2937":"#FFFFFF"};\n            color: ${"dark"===a?"#E5E7EB":"#333333"};\n            border: 1px solid ${"dark"===a?"#374151":"#E5E7EB"};\n            padding: 10px;\n            border-radius: 8px;\n            box-shadow: ${"dark"===a?"0 2px 4px rgba(0, 0, 0, 0.5)":"0 2px 4px rgba(0, 0, 0, 0.1)"};\n          ">\n            <strong>${n}</strong>\n            <div>${l} Terminet</div>\n          </div>`}}},d=[{name:"Terminet",data:e}];return(0,s.jsxs)("div",{className:"p-6 rounded-lg max-w-lg mx-auto border shadow-md dark:border-gray-700",style:{backgroundColor:"dark"===a?"#1F2937":"#FFFFFF"},children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",style:{color:"dark"===a?"#E5E7EB":"#374151"},children:"Terminet Javore"}),(0,s.jsx)(l.A,{options:i,series:d,type:"bar",height:250})]})},x=()=>{const[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null),d=["#3C50E0","#6577F3","#8FD0EF","#0FADCF","#6A5ACD","#7B68EE","#8A2BE2","#9370DB","#483D8B","#4169E1"];return(0,r.useEffect)((()=>{(async()=>{o(!0),i(null);try{const e=await n.A.get("https://api.studio-linda.com/api/Appointment/top-customers");null!==e&&void 0!==e&&e.data&&Array.isArray(e.data)?t(e.data):i("Formati i p\xebrgjigjes API \xebsht\xeb i papritur.")}catch(e){i("D\xebshtoi ngarkimi i klient\xebve m\xeb t\xeb mir\xeb.")}finally{o(!1)}})()}),[]),a?(0,s.jsx)("p",{children:"Po ngarkohet..."}):l?(0,s.jsx)("p",{className:"text-red-500",children:l}):(0,s.jsxs)("div",{className:"col-span-12 rounded-sm border border-stroke m-7 p-5 bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark xl:col-span-4",children:[(0,s.jsx)("h4",{className:"mb-6 px-7.5 text-xl font-semibold text-black dark:text-white",children:"10 Klient\xebt m\xeb t\xeb rregullt"}),(0,s.jsx)("div",{children:e.map(((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4",children:[(0,s.jsx)("div",{className:"relative h-14 w-14 flex items-center justify-center font-bold text-white",style:{backgroundColor:d[t%d.length],borderRadius:"5px"},children:e.name.charAt(0).toUpperCase()}),(0,s.jsx)("div",{className:"flex flex-1 items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"font-medium text-black dark:text-white",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-black dark:text-white",children:[e.completedAppointments," Takime t\xeb P\xebrfunduara"]})]})})]},t)))})]})},g=()=>{const[e,t]=(0,r.useState)(0),[a,l]=(0,r.useState)(0),[c,m]=(0,r.useState)(0),[h,g]=(0,r.useState)(0);return(0,r.useEffect)((()=>{(async()=>{try{const e=await n.A.get("https://api.studio-linda.com/api/Appointment/total-completed-appointments");g(e.data.completedAppointmentsCount)}catch(e){console.error("Error fetching completed appointments:",e)}})(),(async()=>{try{const e=await n.A.get("https://api.studio-linda.com/api/Service/total-services");m(e.data.totalServices)}catch(e){console.error("Error fetching total services:",e)}})(),(async()=>{try{const e=await n.A.get("https://api.studio-linda.com/api/User/total-staff");t(e.data.totalStaff)}catch(e){console.error("Error fetching total staff:",e)}})(),(async()=>{try{const e=await n.A.get("https://api.studio-linda.com/api/Appointment/total-price");l(e.data)}catch(e){console.error("Error fetching total price:",e)}})()}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2 md:gap-6 xl:grid-cols-4 2xl:gap-7.5 dark:text-white text-black",children:[(0,s.jsx)(o,{title:"Numri i Stafit",total:`${e}`,rate:"0.43%",levelUp:!0,className:"p-4",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{"fill-rule":"evenodd",d:"M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z","clip-rule":"evenodd"})})}),(0,s.jsx)(o,{title:"Fitimi total",total:`${a.toFixed(2)}\u20ac`,rate:"4.35%",levelUp:!0,className:"p-4",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 10h9.231M6 14h9.231M18 5.086A5.95 5.95 0 0 0 14.615 4c-3.738 0-6.769 3.582-6.769 8s3.031 8 6.769 8A5.94 5.94 0 0 0 18 18.916"})})}),(0,s.jsx)(o,{title:"Numri i Sh\xebrbimeve",total:`${c}`,rate:"0.43%",levelUp:!0,className:"p-4",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-10 h-10 text-gray-800 dark:text-white",children:(0,s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m7.848 8.25 1.536.887M7.848 8.25a3 3 0 1 1-5.196-3 3 3 0 0 1 5.196 3Zm1.536.887a2.165 2.165 0 0 1 1.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 1 1-5.196 3 3 3 0 0 1 5.196-3Zm1.536-.887a2.165 2.165 0 0 0 1.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863 2.077-1.199m0-3.328a4.323 4.323 0 0 1 2.068-1.379l5.325-1.628a4.5 4.5 0 0 1 2.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.33 4.33 0 0 0 10.607 12m3.736 0 7.794 4.5-.802.215a4.5 4.5 0 0 1-2.48-.043l-5.326-1.629a4.324 4.324 0 0 1-2.068-1.379M14.343 12l-2.882 1.664"})})}),(0,s.jsx)(o,{title:"Terminet e P\xebrfunduara",total:`${h}`,rate:"0.95%",levelDown:!0,className:"p-4",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-10 h-10 text-gray-800 dark:text-white",children:(0,s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 2xl:gap-7.5 mb-16",children:[(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(i,{})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(p,{})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(d,{})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(x,{})})]})]})}}}]);
//# sourceMappingURL=481.ace95318.chunk.js.map