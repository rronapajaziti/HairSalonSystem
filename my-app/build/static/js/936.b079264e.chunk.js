"use strict";(self.webpackChunktailadmin_react_free=self.webpackChunktailadmin_react_free||[]).push([[936],{936:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(43),d=a(213),s=a(369),l=a(149),o=a(579);const i=e=>{let{searchQuery:t}=e;const[a,i]=(0,r.useState)([]),[n,x]=(0,r.useState)((new Date).toISOString().split("T")[0]),[k,c]=(0,r.useState)(0),[b,m]=(0,r.useState)(!1),[p,u]=(0,r.useState)(null),[h,g]=(0,r.useState)({name:"",amount:""}),[j,y]=(0,r.useState)({id:null,name:"",amount:"",date:n});(0,r.useEffect)((()=>{w()}),[n]);const w=async()=>{try{const e=await d.A.get("https://api.studio-linda.com/api/dailyexpenses",{params:{date:n}});i(e.data.expenses||[]),c(e.data.totalCost||0)}catch(e){console.error("Error fetching expenses:",e)}},N=async e=>{e.preventDefault();try{const e={id:j.id,name:j.name,amount:parseFloat(j.amount),date:j.date},t=await d.A.put(`https://api.studio-linda.com/api/dailyexpenses/${j.id}`,e);i((a=>a.map((a=>a.id===e.id?t.data:a)))),u(null),w()}catch(t){console.error("Error editing expense:",t)}},f=a.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));return(0,o.jsxs)("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h1",{className:"text-xl font-semibold text-blue-900 dark:text-white dark:border-strokedark dark:bg-boxdark",children:"Shpenzimet Ditore"}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"date",value:n,onChange:e=>x(e.target.value),className:"px-4 py-2 border rounded-md mr-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark"}),(0,o.jsx)("button",{onClick:()=>m(!b),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:b?"X":"Shto Shpenzimin"})]})]}),b&&(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={name:h.name,amount:parseFloat(h.amount),date:(new Date).toISOString().split("T")[0]},t=await d.A.post("https://api.studio-linda.com/api/dailyexpenses",e);i([...a,t.data]),g({name:"",amount:""}),m(!1),w()}catch(t){console.error("Error adding expense:",t)}},className:"mb-6 text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block font-medium",children:"Emri i Shpenzimit"}),(0,o.jsx)("input",{type:"text",name:"name",value:h.name,onChange:e=>g({...h,name:e.target.value}),className:"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block font-medium",children:"\xc7mimi (\u20ac)"}),(0,o.jsx)("input",{type:"number",name:"amount",value:h.amount,onChange:e=>g({...h,amount:e.target.value}),className:"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark",required:!0})]})]}),(0,o.jsx)("button",{type:"submit",className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md",children:"Shto"})]}),(0,o.jsxs)("table",{className:"w-full table-auto border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-gray-200",children:[(0,o.jsx)("th",{className:"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:"Emri i Shpenzimit"}),(0,o.jsx)("th",{className:"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:"\xc7mimi (\u20ac)"}),(0,o.jsx)("th",{className:"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:"Data"}),(0,o.jsx)("th",{className:"py-2 px-4 text-left text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:"Veprimet"})]})}),(0,o.jsx)("tbody",{children:f.map((e=>(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)("tr",{className:"py-4 px-4 bg-gray-100 text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:[(0,o.jsx)("td",{className:"py-2 px-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:e.name}),(0,o.jsxs)("td",{className:"py-2 px-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:[e.amount.toFixed(2),"\u20ac"]}),(0,o.jsx)("td",{className:"py-2 px-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:new Date(e.date).toLocaleDateString()}),(0,o.jsx)("td",{className:"py-4 px-4",children:(0,o.jsxs)("div",{className:"flex space-x-2 sm:justify-center",children:[(0,o.jsx)("button",{onClick:()=>(e=>{p===e.id?u(null):(u(e.id),y({id:e.id,name:e.name,amount:e.amount,date:e.date}))})(e),className:"bg-blue-500 text-white rounded-md px-4 py-2 text-base sm:px-4 sm:py-2 sm:text-sm",children:(0,o.jsx)(s.uO9,{})}),(0,o.jsx)("button",{onClick:()=>(async e=>{try{await d.A.delete(`https://api.studio-linda.com/api/dailyexpenses/${e}`),i((t=>t.filter((t=>t.id!==e)))),w()}catch(t){console.error("Error deleting expense:",t)}})(e.id),className:"bg-red-500 text-white rounded-md px-4 py-2 text-base sm:px-4 sm:py-2 sm:text-sm",children:(0,o.jsx)(l.pS_,{})})]})})]}),p===e.id&&(0,o.jsx)("tr",{className:"text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:(0,o.jsx)("td",{colSpan:4,children:(0,o.jsxs)("form",{onSubmit:N,className:"py-4 px-4 bg-gray-100 text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block font-medium",children:"Emri i Shpenzimit"}),(0,o.jsx)("input",{type:"text",name:"name",value:j.name,onChange:e=>y({...j,name:e.target.value}),className:"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block font-medium text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:"\xc7mimi (\u20ac)"}),(0,o.jsx)("input",{type:"number",name:"amount",value:j.amount,onChange:e=>y({...j,amount:e.target.value}),className:"px-4 py-2 border rounded-md w-full text-black dark:text-white dark:border-strokedark dark:bg-boxdark",required:!0})]})]}),(0,o.jsx)("button",{type:"submit",className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md",children:"Ruaj"})]})})})]},e.id)))}),(0,o.jsx)("tfoot",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"py-4 px-6 font-bold text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:"Totali"}),(0,o.jsxs)("td",{className:"py-2 px-4 font-bold text-black dark:text-white dark:border-strokedark dark:bg-boxdark",children:[k.toFixed(2),"\u20ac"]}),(0,o.jsx)("td",{className:"text-black dark:text-white dark:border-strokedark dark:bg-boxdark",colSpan:2})]})})]})]})}}}]);
//# sourceMappingURL=936.b079264e.chunk.js.map